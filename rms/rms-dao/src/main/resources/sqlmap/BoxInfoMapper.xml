<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cmiot.rms.dao.mapper.BoxInfoMapper">
	<resultMap id="BaseResultMap" type="com.cmiot.rms.dao.model.BoxInfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
		<id column="BOX_UUID" jdbcType="VARCHAR" property="boxUuid" />
		<result column="BOX_NAME" jdbcType="VARCHAR" property="boxName" />
		<result column="BOX_SERIALNUMBER" jdbcType="VARCHAR" property="boxSerialnumber" />
		<result column="BOX_MACADDRESS" jdbcType="VARCHAR" property="boxMacaddress" />
		<result column="GATEWAY_UUID" jdbcType="VARCHAR" property="gatewayUuid" />
		<result column="BOX_TYPE" jdbcType="VARCHAR" property="boxType" />
		<result column="BOX_MODEL" jdbcType="VARCHAR" property="boxModel" />
		<result column="BOX_FACTORY_CODE" jdbcType="VARCHAR" property="boxFactoryCode" />
		<result column="BOX_ONLINE" jdbcType="INTEGER" property="boxOnline" />
		<result column="BOX_FIRMWARE_UUID" jdbcType="VARCHAR" property="boxFirmwareUuid" />
		<result column="BOX_HARDWARE_VERSION" jdbcType="VARCHAR" property="boxHardwareVersion" />
		<result column="BOX_AREA_ID" jdbcType="VARCHAR" property="boxAreaId" />
		<result column="BOX_MEMO" jdbcType="VARCHAR" property="boxMemo" />
		<result column="BOX_IPADDRESS" jdbcType="VARCHAR" property="boxIpaddress" />
		<result column="BOX_URL" jdbcType="VARCHAR" property="boxUrl" />
		<result column="BOX_CONNECTIONREQUESTURL" jdbcType="VARCHAR" property="boxConnectionrequesturl" />
		<result column="BOX_CONN_TYPE" jdbcType="VARCHAR" property="boxConnType" />
		<result column="BOX_DIGEST_ACCOUNT" jdbcType="VARCHAR" property="boxDigestAccount" />
		<result column="BOX_DIGEST_PASSWORD" jdbcType="VARCHAR" property="boxDigestPassword" />
		<result column="BOX_FAMILY_ACCOUNT" jdbcType="VARCHAR" property="boxFamilyAccount" />
		<result column="BOX_FAMILY_PASSWORD" jdbcType="VARCHAR" property="boxFamilyPassword" />
		<result column="BOX_FILE_URL" jdbcType="VARCHAR" property="boxFileUrl" />
		<result column="BOX_JOIN_TIME" jdbcType="INTEGER" property="boxJoinTime" />
		<result column="BOX_LAST_CONN_TIME" jdbcType="INTEGER" property="boxLastConnTime" />
		<result column="BOX_STATUS" jdbcType="VARCHAR" property="boxStatus" />
		<result column="box_connect_account" jdbcType="VARCHAR" property="boxConnectAccount" />
		<result column="box_connect_password" jdbcType="VARCHAR" property="boxConnectPassword" />
	</resultMap>

	<resultMap id="BaseResultMapForPage" type="com.cmiot.rms.dao.model.BoxInfo">
		<id column="box_uuid" jdbcType="VARCHAR" property="boxUuid" />
		<result column="box_name" jdbcType="VARCHAR" property="boxName" />
		<result column="box_serialnumber" jdbcType="VARCHAR" property="boxSerialnumber" />
		<result column="box_macaddress" jdbcType="VARCHAR" property="boxMacaddress" />
		<result column="gateway_uuid" jdbcType="VARCHAR" property="gatewayUuid" />
		<result column="box_type" jdbcType="VARCHAR" property="boxType" />
		<result column="box_model" jdbcType="VARCHAR" property="boxModel" />
		<result column="box_factory_code" jdbcType="VARCHAR" property="boxFactoryCode" />
		<result column="box_online" jdbcType="INTEGER" property="boxOnline" />
		<result column="box_firmware_uuid" jdbcType="VARCHAR" property="boxFirmwareUuid" />
		<result column="box_hardware_version" jdbcType="VARCHAR" property="boxHardwareVersion" />
		<result column="box_area_id" jdbcType="VARCHAR" property="boxAreaId" />
		<result column="box_memo" jdbcType="VARCHAR" property="boxMemo" />
		<result column="box_ipaddress" jdbcType="VARCHAR" property="boxIpaddress" />
		<result column="box_url" jdbcType="VARCHAR" property="boxUrl" />
		<result column="box_connectionrequesturl" jdbcType="VARCHAR" property="boxConnectionrequesturl" />
		<result column="box_conn_type" jdbcType="VARCHAR" property="boxConnType" />
		<result column="box_digest_account" jdbcType="VARCHAR" property="boxDigestAccount" />
		<result column="box_digest_password" jdbcType="VARCHAR" property="boxDigestPassword" />
		<result column="box_family_account" jdbcType="VARCHAR" property="boxFamilyAccount" />
		<result column="box_family_password" jdbcType="VARCHAR" property="boxFamilyPassword" />
		<result column="box_file_url" jdbcType="VARCHAR" property="boxFileUrl" />
		<result column="box_join_time" jdbcType="INTEGER" property="boxJoinTime" />
		<result column="box_last_conn_time" jdbcType="INTEGER" property="boxLastConnTime" />
		<result column="factory_name" jdbcType="VARCHAR" property="boxFactoryName" />
		<result column="box_status" jdbcType="VARCHAR" property="boxStatus" />
		<result column="box_connect_account" jdbcType="VARCHAR" property="boxConnectAccount" />
		<result column="box_connect_password" jdbcType="VARCHAR" property="boxConnectPassword" />
	</resultMap>
	<sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
		BOX_UUID, BOX_NAME, BOX_SERIALNUMBER, BOX_MACADDRESS, GATEWAY_UUID, BOX_TYPE, BOX_MODEL,
		BOX_FACTORY_CODE, BOX_ONLINE, BOX_FIRMWARE_UUID, BOX_HARDWARE_VERSION, BOX_AREA_ID,
		BOX_MEMO, BOX_IPADDRESS, BOX_URL, BOX_CONNECTIONREQUESTURL, BOX_CONN_TYPE, BOX_DIGEST_ACCOUNT,
		BOX_DIGEST_PASSWORD, BOX_FAMILY_ACCOUNT, BOX_FAMILY_PASSWORD, BOX_FILE_URL, BOX_JOIN_TIME,
		BOX_LAST_CONN_TIME,BOX_STATUS,box_connect_account,box_connect_password
	</sql>
	<resultMap id="ResultMapWithBLOBs" type="com.cmiot.rms.dao.model.derivedclass.BoxBean" extends="BaseResultMap"></resultMap>

	<select id="selectBoxInfoCount" resultType="java.lang.Integer" parameterType="com.cmiot.rms.dao.model.BoxInfo">
		SELECT
		count(1)
		FROM
		t_box_info a
		WHERE
		1 = 1
		<if test="boxSerialnumber != null and boxSerialnumber !=''">
			AND a.box_serialnumber = #{boxSerialnumber,jdbcType=VARCHAR}
		</if>
		<if test="boxMacaddress != null and boxMacaddress !=''">
			AND a.box_macaddress = #{boxMacaddress,jdbcType=VARCHAR}
		</if>
	</select>

	<select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String">
		select
		<include refid="Base_Column_List" />
		from t_box_info
		where box_uuid = #{boxUuid,jdbcType=VARCHAR}
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.String">
		delete from t_box_info
		where box_uuid = #{boxUuid,jdbcType=VARCHAR}
	</delete>
	<insert id="insert" parameterType="com.cmiot.rms.dao.model.BoxInfo">
		insert into t_box_info (box_uuid, box_name, box_serialnumber,
		box_macaddress, gateway_uuid, box_type,
		box_model, box_factory_code, box_online,
		box_firmware_uuid, box_hardware_version, box_area_id,
		box_memo, box_ipaddress, box_url,
		box_connectionrequesturl, box_conn_type, box_digest_account,
		box_digest_password, box_family_account, box_family_password,
		box_file_url, box_join_time, box_last_conn_time, box_connect_account,box_connect_password
		)
		values (#{boxUuid,jdbcType=VARCHAR}, #{boxName,jdbcType=VARCHAR}, #{boxSerialnumber,jdbcType=VARCHAR},
		#{boxMacaddress,jdbcType=VARCHAR}, #{gatewayUuid,jdbcType=VARCHAR}, #{boxType,jdbcType=VARCHAR},
		#{boxModel,jdbcType=VARCHAR}, #{boxFactoryCode,jdbcType=VARCHAR}, #{boxOnline,jdbcType=INTEGER},
		#{boxFirmwareUuid,jdbcType=VARCHAR}, #{boxHardwareVersion,jdbcType=VARCHAR}, #{boxAreaId,jdbcType=VARCHAR},
		#{boxMemo,jdbcType=VARCHAR}, #{boxIpaddress,jdbcType=VARCHAR}, #{boxUrl,jdbcType=VARCHAR},
		#{boxConnectionrequesturl,jdbcType=VARCHAR}, #{boxConnType,jdbcType=VARCHAR}, #{boxDigestAccount,jdbcType=VARCHAR},
		#{boxDigestPassword,jdbcType=VARCHAR}, #{boxFamilyAccount,jdbcType=VARCHAR}, #{boxFamilyPassword,jdbcType=VARCHAR},
		#{boxFileUrl,jdbcType=VARCHAR}, #{boxJoinTime,jdbcType=INTEGER}, #{boxLastConnTime,jdbcType=INTEGER},
		#{boxConnectAccount,jdbcType=VARCHAR}, #{boxConnectPassword,jdbcType=VARCHAR}
		)
	</insert>
	<insert id="insertSelective" parameterType="com.cmiot.rms.dao.model.BoxInfo">
		insert into t_box_info
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="boxUuid != null">
				box_uuid,
			</if>
			<if test="boxName != null">
				box_name,
			</if>
			<if test="boxSerialnumber != null">
				box_serialnumber,
			</if>
			<if test="boxMacaddress != null">
				box_macaddress,
			</if>
			<if test="gatewayUuid != null">
				gateway_uuid,
			</if>
			<if test="boxType != null">
				box_type,
			</if>
			<if test="boxModel != null">
				box_model,
			</if>
			<if test="boxFactoryCode != null">
				box_factory_code,
			</if>
			<if test="boxOnline != null">
				box_online,
			</if>
			<if test="boxFirmwareUuid != null">
				box_firmware_uuid,
			</if>
			<if test="boxHardwareVersion != null">
				box_hardware_version,
			</if>
			<if test="boxAreaId != null">
				box_area_id,
			</if>
			<if test="boxMemo != null">
				box_memo,
			</if>
			<if test="boxIpaddress != null">
				box_ipaddress,
			</if>
			<if test="boxUrl != null">
				box_url,
			</if>
			<if test="boxConnectionrequesturl != null">
				box_connectionrequesturl,
			</if>
			<if test="boxConnType != null">
				box_conn_type,
			</if>
			<if test="boxDigestAccount != null">
				box_digest_account,
			</if>
			<if test="boxDigestPassword != null">
				box_digest_password,
			</if>
			<if test="boxFamilyAccount != null">
				box_family_account,
			</if>
			<if test="boxFamilyPassword != null">
				box_family_password,
			</if>
			<if test="boxFileUrl != null">
				box_file_url,
			</if>
			<if test="boxJoinTime != null">
				box_join_time,
			</if>
			<if test="boxLastConnTime != null">
				box_last_conn_time,
			</if>
			<if test="boxConnectAccount != null">
				box_connect_account,
			</if>
			<if test="boxConnectPassword != null">
				box_connect_password,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="boxUuid != null">
				#{boxUuid,jdbcType=VARCHAR},
			</if>
			<if test="boxName != null">
				#{boxName,jdbcType=VARCHAR},
			</if>
			<if test="boxSerialnumber != null">
				#{boxSerialnumber,jdbcType=VARCHAR},
			</if>
			<if test="boxMacaddress != null">
				#{boxMacaddress,jdbcType=VARCHAR},
			</if>
			<if test="gatewayUuid != null">
				#{gatewayUuid,jdbcType=VARCHAR},
			</if>
			<if test="boxType != null">
				#{boxType,jdbcType=VARCHAR},
			</if>
			<if test="boxModel != null">
				#{boxModel,jdbcType=VARCHAR},
			</if>
			<if test="boxFactoryCode != null">
				#{boxFactoryCode,jdbcType=VARCHAR},
			</if>
			<if test="boxOnline != null">
				#{boxOnline,jdbcType=INTEGER},
			</if>
			<if test="boxFirmwareUuid != null">
				#{boxFirmwareUuid,jdbcType=VARCHAR},
			</if>
			<if test="boxHardwareVersion != null">
				#{boxHardwareVersion,jdbcType=VARCHAR},
			</if>
			<if test="boxAreaId != null">
				#{boxAreaId,jdbcType=VARCHAR},
			</if>
			<if test="boxMemo != null">
				#{boxMemo,jdbcType=VARCHAR},
			</if>
			<if test="boxIpaddress != null">
				#{boxIpaddress,jdbcType=VARCHAR},
			</if>
			<if test="boxUrl != null">
				#{boxUrl,jdbcType=VARCHAR},
			</if>
			<if test="boxConnectionrequesturl != null">
				#{boxConnectionrequesturl,jdbcType=VARCHAR},
			</if>
			<if test="boxConnType != null">
				#{boxConnType,jdbcType=VARCHAR},
			</if>
			<if test="boxDigestAccount != null">
				#{boxDigestAccount,jdbcType=VARCHAR},
			</if>
			<if test="boxDigestPassword != null">
				#{boxDigestPassword,jdbcType=VARCHAR},
			</if>
			<if test="boxFamilyAccount != null">
				#{boxFamilyAccount,jdbcType=VARCHAR},
			</if>
			<if test="boxFamilyPassword != null">
				#{boxFamilyPassword,jdbcType=VARCHAR},
			</if>
			<if test="boxFileUrl != null">
				#{boxFileUrl,jdbcType=VARCHAR},
			</if>
			<if test="boxJoinTime != null">
				#{boxJoinTime,jdbcType=INTEGER},
			</if>
			<if test="boxLastConnTime != null">
				#{boxLastConnTime,jdbcType=INTEGER},
			</if>
			<if test="boxConnectAccount != null">
				#{boxConnectAccount,jdbcType=VARCHAR},
			</if>
			<if test="boxConnectPassword != null">
				#{boxConnectPassword,jdbcType=VARCHAR},
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective" parameterType="com.cmiot.rms.dao.model.BoxInfo">
		update t_box_info
		<set>
			<if test="boxName != null">
				box_name = #{boxName,jdbcType=VARCHAR},
			</if>
			<if test="boxSerialnumber != null">
				box_serialnumber = #{boxSerialnumber,jdbcType=VARCHAR},
			</if>
			<if test="boxMacaddress != null">
				box_macaddress = #{boxMacaddress,jdbcType=VARCHAR},
			</if>
			<if test="gatewayUuid != null">
				gateway_uuid = #{gatewayUuid,jdbcType=VARCHAR},
			</if>
			<if test="boxType != null">
				box_type = #{boxType,jdbcType=VARCHAR},
			</if>
			<if test="boxModel != null">
				box_model = #{boxModel,jdbcType=VARCHAR},
			</if>
			<if test="boxFactoryCode != null">
				box_factory_code = #{boxFactoryCode,jdbcType=VARCHAR},
			</if>
			<if test="boxOnline != null">
				box_online = #{boxOnline,jdbcType=INTEGER},
			</if>
			<if test="boxFirmwareUuid != null">
				box_firmware_uuid = #{boxFirmwareUuid,jdbcType=VARCHAR},
			</if>
			<if test="boxHardwareVersion != null">
				box_hardware_version = #{boxHardwareVersion,jdbcType=VARCHAR},
			</if>
			<if test="boxAreaId != null">
				box_area_id = #{boxAreaId,jdbcType=VARCHAR},
			</if>
			<if test="boxMemo != null">
				box_memo = #{boxMemo,jdbcType=VARCHAR},
			</if>
			<if test="boxIpaddress != null">
				box_ipaddress = #{boxIpaddress,jdbcType=VARCHAR},
			</if>
			<if test="boxUrl != null">
				box_url = #{boxUrl,jdbcType=VARCHAR},
			</if>
			<if test="boxConnectionrequesturl != null">
				box_connectionrequesturl = #{boxConnectionrequesturl,jdbcType=VARCHAR},
			</if>
			<if test="boxConnType != null">
				box_conn_type = #{boxConnType,jdbcType=VARCHAR},
			</if>
			<if test="boxDigestAccount != null">
				box_digest_account = #{boxDigestAccount,jdbcType=VARCHAR},
			</if>
			<if test="boxDigestPassword != null">
				box_digest_password = #{boxDigestPassword,jdbcType=VARCHAR},
			</if>
			<if test="boxFamilyAccount != null">
				box_family_account = #{boxFamilyAccount,jdbcType=VARCHAR},
			</if>
			<if test="boxFamilyPassword != null">
				box_family_password = #{boxFamilyPassword,jdbcType=VARCHAR},
			</if>
			<if test="boxFileUrl != null">
				box_file_url = #{boxFileUrl,jdbcType=VARCHAR},
			</if>
			<if test="boxJoinTime != null">
				box_join_time = #{boxJoinTime,jdbcType=INTEGER},
			</if>
			<if test="boxLastConnTime != null">
				box_last_conn_time = #{boxLastConnTime,jdbcType=INTEGER},
			</if>
			<if test="boxStatus != null">
				BOX_STATUS = #{boxStatus,jdbcType=INTEGER},
			</if>
			<if test="boxConnectAccount != null">
				box_connect_account = #{boxConnectAccount,jdbcType=VARCHAR},
			</if>
			<if test="boxConnectPassword != null">
				box_connect_password = #{boxConnectPassword,jdbcType=VARCHAR},
			</if>


		</set>
		where box_uuid = #{boxUuid,jdbcType=VARCHAR}
	</update>

	<update id="updateBySnSelective" parameterType="com.cmiot.rms.dao.model.BoxInfo">
		update t_box_info
		<set>
			<if test="boxName != null">
				box_name = #{boxName,jdbcType=VARCHAR},
			</if>
			<if test="boxMacaddress != null">
				box_macaddress = #{boxMacaddress,jdbcType=VARCHAR},
			</if>
			<if test="gatewayUuid != null">
				gateway_uuid = #{gatewayUuid,jdbcType=VARCHAR},
			</if>
			<if test="boxType != null">
				box_type = #{boxType,jdbcType=VARCHAR},
			</if>
			<if test="boxModel != null">
				box_model = #{boxModel,jdbcType=VARCHAR},
			</if>
			<if test="boxFactoryCode != null">
				box_factory_code = #{boxFactoryCode,jdbcType=VARCHAR},
			</if>
			<if test="boxOnline != null">
				box_online = #{boxOnline,jdbcType=INTEGER},
			</if>
			<if test="boxFirmwareUuid != null">
				box_firmware_uuid = #{boxFirmwareUuid,jdbcType=VARCHAR},
			</if>
			<if test="boxHardwareVersion != null">
				box_hardware_version = #{boxHardwareVersion,jdbcType=VARCHAR},
			</if>
			<if test="boxAreaId != null">
				box_area_id = #{boxAreaId,jdbcType=VARCHAR},
			</if>
			<if test="boxMemo != null">
				box_memo = #{boxMemo,jdbcType=VARCHAR},
			</if>
			<if test="boxIpaddress != null">
				box_ipaddress = #{boxIpaddress,jdbcType=VARCHAR},
			</if>
			<if test="boxUrl != null">
				box_url = #{boxUrl,jdbcType=VARCHAR},
			</if>
			<if test="boxConnectionrequesturl != null">
				box_connectionrequesturl = #{boxConnectionrequesturl,jdbcType=VARCHAR},
			</if>
			<if test="boxConnType != null">
				box_conn_type = #{boxConnType,jdbcType=VARCHAR},
			</if>
			<if test="boxDigestAccount != null">
				box_digest_account = #{boxDigestAccount,jdbcType=VARCHAR},
			</if>
			<if test="boxDigestPassword != null">
				box_digest_password = #{boxDigestPassword,jdbcType=VARCHAR},
			</if>
			<if test="boxFamilyAccount != null">
				box_family_account = #{boxFamilyAccount,jdbcType=VARCHAR},
			</if>
			<if test="boxFamilyPassword != null">
				box_family_password = #{boxFamilyPassword,jdbcType=VARCHAR},
			</if>
			<if test="boxFileUrl != null">
				box_file_url = #{boxFileUrl,jdbcType=VARCHAR},
			</if>
			<if test="boxJoinTime != null">
				box_join_time = #{boxJoinTime,jdbcType=INTEGER},
			</if>
			<if test="boxLastConnTime != null">
				box_last_conn_time = #{boxLastConnTime,jdbcType=INTEGER},
			</if>
			<if test="boxStatus != null">
				BOX_STATUS = #{boxStatus,jdbcType=INTEGER},
			</if>
			<if test="boxConnectAccount != null">
				box_connect_account = #{boxConnectAccount,jdbcType=VARCHAR},
			</if>
			<if test="boxConnectPassword != null">
				box_connect_password = #{boxConnectPassword,jdbcType=VARCHAR},
			</if>


		</set>
		where box_serialnumber = #{boxSerialnumber,jdbcType=VARCHAR}
	</update>

	<update id="updateByPrimaryKey" parameterType="com.cmiot.rms.dao.model.BoxInfo">
		update t_box_info
		set box_name = #{boxName,jdbcType=VARCHAR},
		box_serialnumber = #{boxSerialnumber,jdbcType=VARCHAR},
		box_macaddress = #{boxMacaddress,jdbcType=VARCHAR},
		gateway_uuid = #{gatewayUuid,jdbcType=VARCHAR},
		box_type = #{boxType,jdbcType=VARCHAR},
		box_model = #{boxModel,jdbcType=VARCHAR},
		box_factory_code = #{boxFactoryCode,jdbcType=VARCHAR},
		box_online = #{boxOnline,jdbcType=INTEGER},
		box_firmware_uuid = #{boxFirmwareUuid,jdbcType=VARCHAR},
		box_hardware_version = #{boxHardwareVersion,jdbcType=VARCHAR},
		box_area_id = #{boxAreaId,jdbcType=VARCHAR},
		box_memo = #{boxMemo,jdbcType=VARCHAR},
		box_ipaddress = #{boxIpaddress,jdbcType=VARCHAR},
		box_url = #{boxUrl,jdbcType=VARCHAR},
		box_connectionrequesturl = #{boxConnectionrequesturl,jdbcType=VARCHAR},
		box_conn_type = #{boxConnType,jdbcType=VARCHAR},
		box_digest_account = #{boxDigestAccount,jdbcType=VARCHAR},
		box_digest_password = #{boxDigestPassword,jdbcType=VARCHAR},
		box_family_account = #{boxFamilyAccount,jdbcType=VARCHAR},
		box_family_password = #{boxFamilyPassword,jdbcType=VARCHAR},
		box_file_url = #{boxFileUrl,jdbcType=VARCHAR},
		box_join_time = #{boxJoinTime,jdbcType=INTEGER},
		box_last_conn_time = #{boxLastConnTime,jdbcType=INTEGER}
		where box_uuid = #{boxUuid,jdbcType=VARCHAR}
	</update>
	<select id="selectBoxInfo" parameterType="com.cmiot.rms.dao.model.BoxInfo" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from t_box_info
		WHERE 1=1
		<if test="boxUuid != null ">
			and BOX_UUID = #{boxUuid,jdbcType=VARCHAR}
		</if>
		<if test="boxName != null">
			and box_name = #{boxName,jdbcType=VARCHAR}
		</if>
		<if test="boxSerialnumber != null">
			AND box_serialnumber = #{boxSerialnumber,jdbcType=VARCHAR}
		</if>
		<if test="boxMacaddress != null">
			and box_macaddress = #{boxMacaddress,jdbcType=VARCHAR}
		</if>
		<if test="gatewayUuid != null">
			and gateway_uuid = #{gatewayUuid,jdbcType=VARCHAR}
		</if>
		<if test="boxFactoryCode != null">
			and box_factory_code = #{boxFactoryCode,jdbcType=VARCHAR}
		</if>
		<if test="boxOnline != null">
			and box_online = #{boxOnline,jdbcType=INTEGER}
		</if>
		<if test="boxAreaId != null">
			and box_area_id = #{boxAreaId,jdbcType=VARCHAR}
		</if>
		<if test="boxStatus != null">
			and BOX_STATUS = #{boxStatus,jdbcType=VARCHAR}
		</if>
		<if test="boxDigestAccount != null">
			and box_digest_account = #{boxDigestAccount,jdbcType=VARCHAR}
		</if>
		<if test="boxConnectAccount != null">
			and box_connect_account = #{boxConnectAccount,jdbcType=VARCHAR}
		</if>
	</select>
	<select id="queryListByIds" resultMap="BaseResultMap">
		select
		a.BOX_UUID, a.BOX_NAME, a.BOX_SERIALNUMBER, a.BOX_MACADDRESS, a.GATEWAY_UUID, a.BOX_TYPE, a.BOX_MODEL,
		a.BOX_FACTORY_CODE, a.BOX_ONLINE, a.BOX_FIRMWARE_UUID, a.BOX_HARDWARE_VERSION, a.BOX_AREA_ID,
		a.BOX_MEMO, a.BOX_IPADDRESS, a.BOX_URL, a.BOX_CONNECTIONREQUESTURL, a.BOX_CONN_TYPE, a.BOX_DIGEST_ACCOUNT,
		a.BOX_DIGEST_PASSWORD, a.BOX_FAMILY_ACCOUNT, a.BOX_FAMILY_PASSWORD, a.BOX_FILE_URL, a.BOX_JOIN_TIME,
		a.BOX_LAST_CONN_TIME,a.BOX_STATUS
		from t_box_info a ,t_box_factory_info f
		WHERE
		a.BOX_FACTORY_CODE = f.FACTORY_CODE
		and a.BOX_UUID IN
		<foreach collection="list" index="index" item="item" open="(" separator="," close=")">
			#{item,jdbcType=VARCHAR}
		</foreach>
	</select>
	<select id="queryList4Page" parameterType="java.util.Map" resultMap="BaseResultMapForPage">
		SELECT
		<include refid="Base_Column_List" />
		,b.factory_name FROM t_box_info a,t_box_factory_info b WHERE
		a.box_factory_code = b.factory_code
		<if test="boxName != null">
			AND box_name = #{boxName,jdbcType=VARCHAR}
		</if>
		<if test="boxSerialnumber != null">
			AND box_serialnumber = #{boxSerialnumber,jdbcType=VARCHAR}
		</if>
		<if test="boxMacaddress != null">
			AND box_macaddress = #{boxMacaddress,jdbcType=VARCHAR}
		</if>
		<if test="gatewayUuid != null">
			AND gateway_uuid = #{gatewayUuid,jdbcType=VARCHAR}
		</if>
		<if test="boxType != null">
			AND box_type = #{boxType,jdbcType=VARCHAR}
		</if>
		<if test="boxModel != null">
			AND box_model = #{boxModel,jdbcType=VARCHAR}
		</if>
		<if test="boxFactoryCode != null">
			AND a.box_factory_code = #{boxFactoryCode,jdbcType=VARCHAR}
		</if>
		<if test="boxStatus != null">
			AND box_status = #{boxStatus,jdbcType=VARCHAR}
		</if>
		<if test="boxAreaId != null">
			AND BOX_AREA_ID IN
			<foreach collection="boxAreaId" close=")" open="(" separator="," index="index" item="item">
				#{item}
			</foreach>
		</if>
		ORDER BY a.box_join_time DESC
		limit #{start},#{end}
	</select>

	<select id="queryList4PageCount" parameterType="java.util.Map" resultType="java.lang.Integer">
		SELECT count(a.box_uuid) FROM t_box_info a,t_box_factory_info b WHERE
		a.box_factory_code = b.factory_code
		<if test="boxName != null">
			AND box_name = #{boxName,jdbcType=VARCHAR}
		</if>
		<if test="boxSerialnumber != null">
			AND box_serialnumber = #{boxSerialnumber,jdbcType=VARCHAR}
		</if>
		<if test="boxMacaddress != null">
			AND box_macaddress = #{boxMacaddress,jdbcType=VARCHAR}
		</if>
		<if test="gatewayUuid != null">
			AND gateway_uuid = #{gatewayUuid,jdbcType=VARCHAR}
		</if>
		<if test="boxType != null">
			AND box_type = #{boxType,jdbcType=VARCHAR}
		</if>
		<if test="boxModel != null">
			AND box_model = #{boxModel,jdbcType=VARCHAR}
		</if>
		<if test="boxFactoryCode != null">
			AND a.box_factory_code = #{boxFactoryCode,jdbcType=VARCHAR}
		</if>
		<if test="boxStatus != null">
			AND box_status = #{boxStatus,jdbcType=VARCHAR}
		</if>
		<if test="boxAreaId != null">
			AND BOX_AREA_ID IN
			<foreach collection="boxAreaId" close=")" open="(" separator="," index="index" item="item">
				#{item}
			</foreach>
		</if>
	</select>


	<select id="queryBoxListForPage" parameterType="com.cmiot.rms.dao.model.BoxInfo" resultMap="ResultMapWithBLOBs">
		select
		a.BOX_UUID, a.BOX_NAME, a.BOX_SERIALNUMBER, a.BOX_MACADDRESS, a.GATEWAY_UUID, a.BOX_TYPE,
		(select d.box_model from t_box_device_info d where d.id = (select f.device_id from t_box_firmware_info f where f.id= a.box_firmware_uuid)) as BOX_MODEL,
		(select f.firmware_version from t_box_firmware_info f where f.id= a.box_firmware_uuid) as boxVersion,
		(select factory_name from t_box_factory_info where factory_code = a.BOX_FACTORY_CODE) as boxFactoryName,
		a.BOX_FACTORY_CODE, a.BOX_ONLINE, a.BOX_FIRMWARE_UUID, a.BOX_HARDWARE_VERSION, a.BOX_AREA_ID,
		a.BOX_MEMO, a.BOX_IPADDRESS, a.BOX_URL, a.BOX_CONNECTIONREQUESTURL, a.BOX_CONN_TYPE, a.BOX_DIGEST_ACCOUNT,
		a.BOX_DIGEST_PASSWORD, a.BOX_FAMILY_ACCOUNT, a.BOX_FAMILY_PASSWORD, a.BOX_FILE_URL, a.BOX_JOIN_TIME,
		a.BOX_LAST_CONN_TIME,a.BOX_STATUS
		from t_box_info a
		WHERE
		1=1
		<if test='boxFactoryCode != null'>
			and a.BOX_FACTORY_CODE = #{boxFactoryCode,jdbcType=VARCHAR}
		</if>
		<if test='boxAreaId != null and boxAreaId != "0"'>
			and (a.BOX_AREA_ID in ${boxAreaId} OR a.BOX_AREA_ID = '' OR a.BOX_AREA_ID IS NULL)
		</if>
		<if test="boxSerialnumber != null">
			and a.BOX_SERIALNUMBER like
			CONCAT('%',
			#{boxSerialnumber},'%' )
		</if>
		<if test="boxMacaddress != null">
			and a.BOX_MACADDRESS like
			CONCAT('%',
			#{boxMacaddress},'%' )
		</if>
    <!-- 设备型号 -->
		<if test="boxModel!=null">
			and a.BOX_MODEL =
			#{boxModel,jdbcType=CHAR}
		</if>
    <!-- 固件版本 -->
		<if test="boxFirmwareUuid!=null">
			and a.BOX_FIRMWARE_UUID =
			#{boxFirmwareUuid,jdbcType=CHAR}
		</if>
	</select>

	<select id="selectGatewayInfo" parameterType="com.cmiot.rms.dao.model.BoxInfo" resultMap="BaseResultMapForPage">
		SELECT
		<include refid="Base_Column_List" />
		,b.factory_name FROM t_box_info a,t_box_factory_info b WHERE
		a.box_factory_code = b.factory_code
		<if test="boxName != null">
			AND box_name = #{boxName,jdbcType=VARCHAR}
		</if>
		<if test="boxSerialnumber != null">
			AND box_serialnumber = #{boxSerialnumber,jdbcType=VARCHAR}
		</if>
		<if test="boxMacaddress != null">
			AND box_macaddress = #{boxMacaddress,jdbcType=VARCHAR}
		</if>
		<if test="gatewayUuid != null">
			AND gateway_uuid = #{gatewayUuid,jdbcType=VARCHAR}
		</if>
		<if test="boxType != null">
			AND box_type = #{boxType,jdbcType=VARCHAR}
		</if>
		<if test="boxModel != null">
			AND box_model = #{boxModel,jdbcType=VARCHAR}
		</if>
		<if test="boxFactoryCode != null">
			AND a.box_factory_code = #{boxFactoryCode,jdbcType=VARCHAR}
		</if>
		<if test="boxStatus != null">
			AND box_status = #{boxStatus,jdbcType=VARCHAR}
		</if>
		<if test="boxAreaId != null">
			AND BOX_AREA_ID IN
			<foreach collection="boxAreaId" close=")" open="(" separator="," index="index" item="item">
				#{item}
			</foreach>
		</if>
	</select>

	<insert id="batchInsertBoxInfo" parameterType="java.util.List">
		insert into t_box_info (
		BOX_UUID,
		BOX_NAME,
		BOX_SERIALNUMBER,
		BOX_MACADDRESS,
		GATEWAY_UUID,
		BOX_TYPE,
		BOX_MODEL,
		BOX_FACTORY_CODE,
		BOX_ONLINE,
		BOX_FIRMWARE_UUID,
		BOX_HARDWARE_VERSION,
		BOX_AREA_ID,
		BOX_MEMO,
		BOX_IPADDRESS,
		BOX_URL,
		BOX_CONNECTIONREQUESTURL,
		BOX_CONN_TYPE,
		BOX_DIGEST_ACCOUNT,
		BOX_DIGEST_PASSWORD,
		BOX_FAMILY_ACCOUNT,
		BOX_FAMILY_PASSWORD,
		BOX_FILE_URL,
		BOX_JOIN_TIME,
		BOX_LAST_CONN_TIME,
		BOX_STATUS,
		box_connect_account,
		box_connect_password
		)
		values
		<foreach collection="list" item="item" index="index" separator=",">
			(#{item.boxUuid,jdbcType=VARCHAR},
			#{item.boxName,jdbcType=CHAR},
			#{item.boxSerialnumber,jdbcType=CHAR},
			#{item.boxMacaddress,jdbcType=CHAR},
			#{item.gatewayUuid,jdbcType=CHAR},
			#{item.boxType,jdbcType=CHAR},
			#{item.boxModel,jdbcType=CHAR},
			#{item.boxFactoryCode,jdbcType=CHAR},
			#{item.boxOnline,jdbcType=CHAR},
			#{item.boxFirmwareUuid,jdbcType=CHAR},
			#{item.boxHardwareVersion,jdbcType=CHAR},
			#{item.boxAreaId,jdbcType=CHAR},
			#{item.boxMemo,jdbcType=CHAR},
			#{item.boxIpaddress,jdbcType=CHAR},
			#{item.boxUrl,jdbcType=CHAR},
			#{item.boxConnectionrequesturl,jdbcType=CHAR},
			#{item.boxConnType,jdbcType=CHAR},
			#{item.boxDigestAccount,jdbcType=CHAR},
			#{item.boxDigestPassword,jdbcType=CHAR},
			#{item.boxFamilyAccount,jdbcType=CHAR},
			#{item.boxFamilyPassword,jdbcType=CHAR},
			#{item.boxFileUrl,jdbcType=CHAR},
			#{item.boxJoinTime,jdbcType=CHAR},
			#{item.boxLastConnTime,jdbcType=CHAR},
			#{item.boxStatus,jdbcType=CHAR},
			#{item.boxConnectAccount,jdbcType=CHAR},
			#{item.boxConnectPassword,jdbcType=CHAR}
			)
		</foreach>
	</insert>

	<select id="selectBoxInfoNoRe" parameterType="com.cmiot.rms.dao.model.BoxInfo" resultMap="BaseResultMap">
		SELECT

		DISTINCT (BOX_MODEL)

		FROM

		t_box_info

		WHERE 1=1

		<if test="boxFactoryCode != null">
			and box_factory_code = #{boxFactoryCode,jdbcType=VARCHAR}
		</if>
	</select>

</mapper>
